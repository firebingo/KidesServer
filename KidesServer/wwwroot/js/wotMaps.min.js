function getJSON(a,t,e,s){$.ajax({dataType:"json",url:a,data:s,success:t,error:e})}function setTankList(a){tankList=a}function tankListFailure(a){}function hideSection(a){switch(a){case"guide":mapContainer&&("none"===mapContainer.style.display?mapContainer.style.display="flex":mapContainer.style.display="none");break;case"previews":imagePreviews&&("none"===imagePreviews.style.display?imagePreviews.style.display="flex":imagePreviews.style.display="none");break;case"player":playerContainer&&("none"===playerContainer.style.display?playerContainer.style.display="flex":playerContainer.style.display="none")}}function buildMapPreivew(a){return' \t\t\t<div class="preview-container"> \t\t\t\t<img src="'+a.comFileName+'"/> \t\t\t</div> \t\t\t'}function buildUserData(a){var t=void 0,e=void 0;if((a=a[Object.keys(a)[0]]).statistics.frags){t=a.statistics.frags;var s=Object.keys(t);e={id:0,value:0},s.forEach(function(a,s){t[a]>e.value&&(e.id=a,e.value=t[a])})}var l=e?tankList.data[e.id]:void 0,i=tankList.data[a.statistics.all.max_xp_tank_id],n=tankList.data[a.statistics.all.max_frags_tank_id],c=tankList.data[a.statistics.all.max_damage_tank_id];return'\t<table id="player-table">\t\t<tbody>\t\t\t<tr><td class="ac-left-cell"><span>Nickname:  </span></td><td class="ac-right-cell"><span>'+a.nickname+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Account Id:\t</span></td><td class="ac-right-cell"><span>'+a.account_id+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Created Date:  </span></td><td class="ac-right-cell"><span>'+new Date(1e3*a.created_at).toString()+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Personal Rating:\t </span></td><td class="ac-right-cell"><span>'+a.global_rating+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Last Battle:\t </span></td><td class="ac-right-cell"><span>'+new Date(1e3*a.last_battle_time).toString()+"</span></td></tr>"+(a.private?'<tr><td colspan="2" class="ac-single-cell"><span>Private Data (Requires Access Token):</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Credits:\t </span></td><td class="ac-right-cell"><span>'+a.private.credits+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Gold:  </span></td><td class="ac-right-cell"><span>'+a.private.gold+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Free XP:\t </span></td><td class="ac-right-cell"><span>'+a.private.free_xp+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Premium:\t </span></td><td class="ac-right-cell"><span>'+a.private.is_premium.toString()+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Premium Expires At:\t</span></td><td class="ac-right-cell"><span>'+new Date(1e3*a.private.premium_expires_at).toString()+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Battle Life Time:  </span></td><td class="ac-right-cell"><span>'+(a.private.battle_life_time/60/60).toFixed(1)+" hours</span></td></tr>"+(t?'<tr><td colspan="2" class="ac-single-cell"><div><span>Most Killed Tank:  </span><span>'+e.value+" kills - "+(e.value/a.statistics.all.frags*100).toFixed(3)+"%</span>\t\t\t<span>"+(l?l.name:"Unknown Tank")+'</span><img src="'+(l?l.images.big_icon:"")+'"/></div></td></tr>\t\t\t':"")+'<tr><td colspan="2" class="ac-single-cell"><span>End Private Data</span></td></tr>':"")+'<tr><td class="ac-left-cell"><span>Trees Cut:\t</span></td><td class="ac-right-cell"><span>'+a.statistics.trees_cut+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Battles:\t </span></td><td class="ac-right-cell"><span>'+a.statistics.all.battles+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Victories:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.wins+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Draws:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.draws+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Win Rate:  </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.wins/a.statistics.all.battles*100).toFixed(3)+'%</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>XP Earned:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.xp+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Average XP:\t</span></td><td class="ac-right-cell"><span>'+a.statistics.all.battle_avg_xp+'</span></td></tr>\t\t\t<tr><td colspan="2" class="ac-single-cell"><div><span>Max XP:  </span><span>'+a.statistics.all.max_xp+"</span>\t\t\t<span>"+(i?i.name:"Unknown Tank")+'</span><img src="'+(i?i.images.big_icon:"")+'"/></div></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Tanks Spotted:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.spotted+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Kills:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.frags+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Average Kills:  </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.frags/a.statistics.all.battles).toFixed(3)+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Shots:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.shots+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Hits:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.hits+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Piercings:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.piercings+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>HE Splashes:\t </span></td><td class="ac-right-cell"><span>'+a.statistics.all.explosion_hits+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Accuracy:  </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.hits/a.statistics.all.shots*100).toFixed(3)+'%</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Piercings %:\t </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.piercings/a.statistics.all.hits*100).toFixed(3)+'%</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Damage Dealt:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.damage_dealt+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Average Damage Done:\t </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.damage_dealt/a.statistics.all.battles).toFixed(1)+'</span></td></tr>\t\t\t<tr><td colspan="2" class="ac-single-cell"><div><span>Max Kills:  </span><span>'+a.statistics.all.max_frags+"</span>\t\t\t<span>"+(n?n.name:"Unknown Tank")+'</span><img src="'+(n?n.images.big_icon:"")+'"/></div></td></tr>\t\t\t<tr><td colspan="2" class="ac-single-cell"><div><span>Max Damage:  </span><span>'+a.statistics.all.max_damage+"</span>\t\t\t<span>"+(c?c.name:"Unknown Tank")+'</span><img src="'+(c?c.images.big_icon:"")+'"/></div></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Deaths:\t</span></td><td class="ac-right-cell"><span>'+(a.statistics.all.battles-a.statistics.all.survived_battles)+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>K/D:\t </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.frags/(a.statistics.all.battles-a.statistics.all.survived_battles)).toFixed(3)+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Damage Received:\t </span></td><td class="ac-right-cell"><span>'+a.statistics.all.damage_received+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Hits Received:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.direct_hits_received+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Piercings Received:\t</span></td><td class="ac-right-cell"><span>'+a.statistics.all.piercings_received+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Bounces:\t </span></td><td class="ac-right-cell"><span>'+a.statistics.all.no_damage_direct_hits_received+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Bounces %:  </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.no_damage_direct_hits_received/a.statistics.all.direct_hits_received*100).toFixed(3)+'%</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>HE Splashes Received:  </span></td><td class="ac-right-cell"><span>'+a.statistics.all.explosion_hits_received+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Average Damage Blocked:\t</span></td><td class="ac-right-cell"><span>'+a.statistics.all.avg_damage_blocked+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Hit/Received:  </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.hits/a.statistics.all.direct_hits_received).toFixed(3)+'</span></td></tr>\t\t\t<tr><td class="ac-left-cell"><span>Pens/Received:  </span></td><td class="ac-right-cell"><span>'+(a.statistics.all.piercings/a.statistics.all.piercings_received).toFixed(3)+"</span></td></tr>\t\t</tbody>\t</table>\t"}function onPreviewClicked(a){var t=mapList[currentMapIndex=a].fileName;imageArea&&mapTitle&&(imageArea.style.height="41.25rem",imageArea.src=t,searchSpan.innerHTML="",mapTitle.style.display="block",mapTitle.innerHTML=mapList[currentMapIndex].index+" - "+mapList[currentMapIndex].name)}function searchMap(){if(searchInput)for(var a=searchInput.value.toLowerCase(),t=0;t<mapList.length;++t)if(mapList[t].name.toLowerCase().includes(a)||mapList[t].index.toString().toLowerCase().includes(a)){onPreviewClicked(mapList[t].index);break}}function loadPlayerData(a){if(document.getElementById("player-searching").innerText="",playerContainer){var t=document.createElement("div");t.id="player-data-container";var e=buildUserData(a.data);t.innerHTML=e,playerContainer.appendChild(t)}}function loadPlayerFailure(a){document.getElementById("player-searching").innerText="";var t=void 0;if(a.responseJSON||(t="There was an error in handling an error."),(t=a.responseJSON.Message)||(t="There was an error in handling an error."),playerSearchError){switch(t){case"NOT_ENOUGH_SEARCH_LENGTH":t="Username is not long enough to search.";break;case"SEARCH_NOT_SPECIFIED":t="No username specified.";break;case"ACCOUNT_ID_LIST_LIMIT_EXCEEDED":case"ACCOUNT_ID_LIST_LIMIT_EXCEEDED":t="Limit of account ids specified exceeded (how?).";break;case"METHOD_NOT_FOUND":t="API Method not found (contact Matthew.t.kides@gmail.com).";break;case"METHOD_DISABLED":t="API Method disabled (contact Matthew.t.kides@gmail.com).";break;case"APPLICATION_IS_BLOCKED":t="Application is blocked from API access (contact Matthew.t.kides@gmail.com).";break;case"INVALID_IP_ADDRESS":t="Application IP is invalid (contact Matthew.t.kides@gmail.com).";break;case"INVALID_APPLICATION_ID":t="Application id is invalid (contact Matthew.t.kides@gmail.com).";break;case"REQUEST_LIMIT_EXCEEDED":t="Request limit exceeded, please wait and try again.";break;case"SOURCE_NOT_AVAILABLE":t="Data source is not available.";break;default:t=t}playerSearchError.innerHTML=t}}function searchPlayer(){if(playerSearchInput&&playerTokenInput&&playerSearchError&&playerRegionDropdown){document.getElementById("player-searching").innerText="Searching... Please do not press button again.",$("#player-data-container").remove(),playerSearchError.innerHTML="";var a=playerSearchInput.value,t=playerTokenInput.value,e=playerRegionDropdown.value;a&&getJSON("https://server.icebingo.io:25563/api/v1/user-data/?username="+a+(t?"&accessToken="+t:"")+(e?"&region="+e:""),loadPlayerData,loadPlayerFailure,"")}}var mapList=[{name:"Paris",index:0,fileName:"../WotMaps/02 - Paris.jpg",comFileName:"../WotMaps/comp/02 - Paris.jpg"},{name:"Pilsen",index:1,fileName:"../WotMaps/03 - Pilsen.jpg",comFileName:"../WotMaps/comp/03 - Pilsen.jpg"},{name:"Redshire",index:2,fileName:"../WotMaps/04 - Redshire.jpg",comFileName:"../WotMaps/comp/04 - Redshire.jpg"},{name:"Airfield",index:3,fileName:"../WotMaps/05 - Airfield.jpg",comFileName:"../WotMaps/comp/05 - Airfield.jpg"},{name:"Himmelsdorf - Winter Himmelsdorf",index:4,fileName:"../WotMaps/06 - Himmelsdorf.jpg",comFileName:"../WotMaps/comp/06 - Himmelsdorf.jpg"},{name:"Mountain Pass",index:5,fileName:"../WotMaps/07 - Mountain Pass.jpg",comFileName:"../WotMaps/comp/07 - Mountain Pass.jpg"},{name:"Lakeville",index:6,fileName:"../WotMaps/08 - Lakeville.jpg",comFileName:"../WotMaps/comp/08 - Lakeville.jpg"},{name:"Sacred Valley",index:7,fileName:"../WotMaps/09 - Sacred Valley.jpg",comFileName:"../WotMaps/comp/09 - Sacred Valley.jpg"},{name:"Malinovka",index:8,fileName:"../WotMaps/10 - Malinovka.jpg",comFileName:"../WotMaps/comp/10 - Malinovka.jpg"},{name:"Mines",index:9,fileName:"../WotMaps/11 - Mines.jpg",comFileName:"../WotMaps/comp/11 - Mines.jpg"},{name:"Ruinberg - Winterberg",index:10,fileName:"../WotMaps/12 - Ruinberg.jpg",comFileName:"../WotMaps/comp/12 - Ruinberg.jpg"},{name:"Abbey",index:11,fileName:"../WotMaps/13 - Abbey.jpg",comFileName:"../WotMaps/comp/13 - Abbey.jpg"},{name:"Steppes",index:12,fileName:"../WotMaps/14 - Steppes.jpg",comFileName:"../WotMaps/comp/14 - Steppes.jpg"},{name:"Karelia",index:13,fileName:"../WotMaps/15 - Karelia.jpg",comFileName:"../WotMaps/comp/15 - Karelia.jpg"},{name:"Live oaks",index:14,fileName:"../WotMaps/16 - Live oaks.jpg",comFileName:"../WotMaps/comp/16 - Live oaks.jpg"},{name:"Fjords",index:15,fileName:"../WotMaps/17 - Fjords.jpg",comFileName:"../WotMaps/comp/17 - Fjords.jpg"},{name:"Highway",index:16,fileName:"../WotMaps/18 - Highway.jpg",comFileName:"../WotMaps/comp/18 - Highway.jpg"},{name:"Overlord",index:17,fileName:"../WotMaps/19 - Overlord.jpg",comFileName:"../WotMaps/comp/19 - Overlord.jpg"},{name:"Murovanka",index:18,fileName:"../WotMaps/20 - Murovanka.jpg",comFileName:"../WotMaps/comp/20 - Murovanka.jpg"},{name:"Cliff",index:19,fileName:"../WotMaps/21 - Cliff.jpg",comFileName:"../WotMaps/comp/21 - Cliff.jpg"},{name:"Ensk",index:20,fileName:"../WotMaps/22 - Ensk.jpg",comFileName:"../WotMaps/comp/22 - Ensk.jpg"},{name:"Siegfried Line",index:21,fileName:"../WotMaps/23 - Siegfried Line.jpg",comFileName:"../WotMaps/comp/23 - Siegfried Line.jpg"},{name:"Stalingrad",index:22,fileName:"../WotMaps/24 - Stalingrad.jpg",comFileName:"../WotMaps/comp/24 - Stalingrad.jpg"},{name:"Serene Coast",index:23,fileName:"../WotMaps/25 - Serene Coast.jpg",comFileName:"../WotMaps/comp/25 - Serene Coast.jpg"},{name:"Tundra",index:24,fileName:"../WotMaps/26 - Tundra.jpg",comFileName:"../WotMaps/comp/26 - Tundra.jpg"},{name:"Sand River",index:25,fileName:"../WotMaps/27 - Sand River.jpg",comFileName:"../WotMaps/comp/27 - Sand River.jpg"},{name:"Fisherman's Bay",index:26,fileName:"../WotMaps/28 - Fisherman's Bay.jpg",comFileName:"../WotMaps/comp/28 - Fisherman's Bay.jpg"},{name:"Swamp",index:27,fileName:"../WotMaps/29 - Swamp.jpg",comFileName:"../WotMaps/comp/29 - Swamp.jpg"},{name:"Erlenberg",index:28,fileName:"../WotMaps/30 - Erlenberg.jpg",comFileName:"../WotMaps/comp/30 - Erlenberg.jpg"},{name:"Windstorm",index:29,fileName:"../WotMaps/31 - Windstorm.jpg",comFileName:"../WotMaps/comp/31 - Windstorm.jpg"},{name:"Westfield",index:30,fileName:"../WotMaps/32 - Westfield.jpg",comFileName:"../WotMaps/comp/32 - Westfield.jpg"},{name:"El Halluf",index:31,fileName:"../WotMaps/33 - El Halluf.jpg",comFileName:"../WotMaps/comp/33 - El Halluf.jpg"},{name:"Prokhorovka - Fiery Salient",index:32,fileName:"../WotMaps/34 - Prokhorovka.jpg",comFileName:"../WotMaps/comp/34 - Prokhorovka.jpg"},{name:"Arctic Region",index:33,fileName:"../WotMaps/35 - Arctic Region.jpg",comFileName:"../WotMaps/comp/35 - Arctic Region.jpg"},{name:"Kharkov",index:34,fileName:"../WotMaps/Coldstream/32 - Kharkov.jpg",comFileName:"../WotMaps/Coldstream/comp/32 - Kharkov.jpg"},{name:"Widepark",index:35,fileName:"../WotMaps/Coldstream/35 - Widepark.jpg",comFileName:"../WotMaps/Coldstream/comp/35 - Widepark.jpg"}],tankList=void 0,currentMapIndex=0,currentMapUrl=mapList[currentMapIndex].fileName,imageArea=void 0,imageContainer=void 0,imagePreviews=void 0,searchSpan=void 0,searchInput=void 0,mapTitle=void 0,mapContainer=void 0,playerContainer=void 0,playerSearchInput=void 0,playerTokenInput=void 0,playerSearchError=void 0,playerRegionDropdown=void 0,baseUrl=window.location.href.split("/");baseUrl.length=3,getJSON((baseUrl=baseUrl.join("/"))+"/Js/wotTankList.min.json",setTankList,tankListFailure,""),window.onload=function(){imageArea=document.getElementById("image-area"),imagePreviews=document.getElementById("image-previews"),imageContainer=document.getElementById("image-container"),searchSpan=document.getElementById("search-span"),searchInput=document.getElementById("map-search"),mapTitle=document.getElementById("map-title"),mapContainer=document.getElementById("map-container"),playerContainer=document.getElementById("player-container"),playerSearchInput=document.getElementById("player-search-input"),playerTokenInput=document.getElementById("player-token-input"),playerSearchError=document.getElementById("player-search-error"),playerRegionDropdown=document.getElementById("player-region-dropdown"),imageArea&&(imageArea.style.height="0"),mapTitle&&(mapTitle.style.display="none"),searchInput&&searchInput.addEventListener("keyup",function(a){a.preventDefault(),13===a.keyCode&&searchMap()}),playerSearchInput&&playerSearchInput.addEventListener("keyup",function(a){a.preventDefault(),13===a.keyCode&&searchPlayer()}),imagePreviews&&mapList.forEach(function(a,t){var e=document.createElement("div");e.innerHTML=buildMapPreivew(a),e.addEventListener("click",function(){onPreviewClicked(a.index)}),imagePreviews.appendChild(e)})};